// Librarian.cs Initialise()

if Exists(C:\ProgramData\Chem4Word.V3\Library.db)
{
    // Create folder C:\ProgramData\Chem4Word.V3\Libraries
    // Move Library.db to C:\ProgramData\Chem4Word.V3\Libraries
    // Open Library.db and patch it
    // Set Library.db's properties
    // Create C:\ProgramData\Chem4Word.V3\Libraries\libraries.json
    // Add Library.db to it
    // Move any old backups to C:\ProgramData\Chem4Word.V3\Libraries\Backups
}

if NotExists(C:\ProgramData\Chem4Word.V3\Libraries\Libraries.json)
{
    // Create default C:\ProgramData\Chem4Word.V3\Libraries\Libraries.json
    // Unzip Starter and Plant Oils databases
}

// Library.cs constructor
PatchDatabase before use

// ----------------
// Private template
// ----------------

var sb = new StringBuilder();
sb.AppendLine("");
var command = new SQLiteCommand(sb.ToString(), conn);
result = command.ExecuteReader();
return result;

using (SQLiteDataReader rows = XXXX(conn))
{
  if (rows != null)
  {
    while(rows.Read())
    {
    }
  }
}