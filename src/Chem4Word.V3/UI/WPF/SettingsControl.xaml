<UserControl
    x:Class="Chem4Word.UI.WPF.SettingsControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:Chem4Word.ACME.Converters;assembly=Chem4Word.ACME"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="clr-namespace:Chem4Word.Models"
    d:DesignHeight="600"
    d:DesignWidth="1000"
    FontFamily="Segoe UI"
    FontSize="16"
    Loaded="OnLoaded_SettingsControl"
    mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/Chem4Word.ACME;component/Resources/ACMEResources.xaml" />
                <ResourceDictionary Source="pack://application:,,,/Chem4Word.ACME;component/Resources/ControlStyles.xaml" />
                <ResourceDictionary Source="pack://application:,,,/Chem4Word.ACME;component/Resources/Brushes.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <converters:BoolToVisibilityConverter
                x:Key="BoolToVisConverter"
                FalseValue="Hidden"
                TrueValue="Visible" />

            <Style TargetType="GroupBox">
                <Setter Property="BorderBrush" Value="{StaticResource Chem4WordBlue}" />
                <Setter Property="BorderThickness" Value="2" />
                <Setter Property="Padding" Value="5" />
            </Style>

            <Style TargetType="Path">
                <Style.Triggers>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter Property="Opacity" Value="0.5" />
                        <Setter Property="Fill" Value="Gray" />
                        <Setter Property="Stroke" Value="Gray" />
                    </Trigger>
                </Style.Triggers>
            </Style>
            <Path
                x:Key="BrowseFolder"
                Width="28"
                Height="28"
                Margin="5"
                VerticalAlignment="Center"
                x:Shared="False"
                Data="M 19 20 H 4 C 2.89 20 2 19.1 2 18 V 6 C 2 4.89 2.89 4 4 4 H 10 L 12 6 H 19 A 2 2 0 0 1 21 8 H 21 L 4 8 V 18 L 6.14 10 H 23.21 L 20.93 18.5 C 20.7 19.37 19.92 20 19 20 Z"
                Fill="{StaticResource Chem4WordBlue}"
                Stretch="Uniform" />
            <Path
                x:Key="PlugInSettings"
                Width="26"
                Height="26"
                x:Shared="False"
                Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                Fill="{StaticResource Chem4WordBlue}"
                Stretch="Uniform" />

            <!--  https://pictogrammers.com/library/mdi/icon/check/  -->
            <Style x:Key="LibraryIsSelected" TargetType="Path">
                <Setter Property="Data" Value="M 9 20.42 L 2.79 14.21 L 5.62 11.38 L 9 14.77 L 18.88 4.88 L 21.71 7.71 L 9 20.42 Z" />
            </Style>

            <x:Array x:Key="SampleData" Type="models:LibrariesSettingsGridSource">
                <models:LibrariesSettingsGridSource
                    Name="Sample 1"
                    Count="123"
                    Dictionary="False"
                    IsDefault="True"
                    License="N/A"
                    Locked="No" />
                <models:LibrariesSettingsGridSource
                    Name="Sample 2"
                    Count="12,345"
                    Dictionary="True"
                    License="N/A"
                    Locked="Yes" />
                <models:LibrariesSettingsGridSource
                    Name="Sample 3"
                    Count="42"
                    Dictionary="False"
                    License="Chem4Word User &lt;info@chem4word.co.uk&gt;"
                    Locked="Yes" />
            </x:Array>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid d:IsLocked="True">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="55" />
        </Grid.RowDefinitions>
        <TabControl
            x:Name="TabControl"
            Grid.Row="0"
            Margin="10,10,10,0"
            d:IsLocked="True"
            Background="{DynamicResource {x:Static SystemColors.ControlColor}}"
            SelectionChanged="OnSelectionChanged_TabControl">
            <TabItem
                Name="PlugIns"
                d:IsLocked="True"
                Header="Plug Ins">
                <Grid Margin="5" d:IsLocked="True">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <GroupBox
                        Grid.Row="0"
                        d:IsLocked="True"
                        BorderBrush="{StaticResource Chem4WordBlue}"
                        BorderThickness="2"
                        Header="Editor">
                        <DockPanel d:IsLocked="True">
                            <DockPanel d:IsLocked="True" Dock="Top">
                                <Button
                                    Name="SelectedEditorSettings"
                                    Width="28"
                                    Height="28"
                                    d:IsLocked="True"
                                    Click="OnClick_SelectedEditorSettings"
                                    DockPanel.Dock="Right"
                                    Style="{StaticResource Acme.Control.Button.DialogButton}">
                                    <Viewbox d:IsLocked="True">
                                        <Grid d:IsLocked="True">
                                            <StaticResource ResourceKey="PlugInSettings" />
                                        </Grid>
                                    </Viewbox>
                                </Button>
                                <ComboBox
                                    x:Name="SelectEditorPlugIn"
                                    Height="30"
                                    Margin="5"
                                    VerticalContentAlignment="Center"
                                    d:IsLocked="True"
                                    SelectionChanged="OnSelectionChanged_SelectEditorPlugIn" />
                            </DockPanel>
                            <TextBlock
                                x:Name="SelectedEditorPlugInDescription"
                                Margin="5"
                                d:IsLocked="True"
                                Text="Description of the editor ..."
                                TextWrapping="Wrap" />
                        </DockPanel>
                    </GroupBox>
                    <GroupBox
                        Grid.Row="1"
                        d:IsLocked="True"
                        BorderBrush="{StaticResource Chem4WordBlue}"
                        BorderThickness="2"
                        Header="Renderer">
                        <DockPanel d:IsLocked="True">
                            <DockPanel d:IsLocked="True" Dock="Top">
                                <Button
                                    x:Name="SelectedRendererSettings"
                                    Width="28"
                                    Height="28"
                                    d:IsLocked="True"
                                    Click="OnClick_SelectedRendererSettings"
                                    DockPanel.Dock="Right"
                                    Style="{StaticResource Acme.Control.Button.DialogButton}">
                                    <Viewbox d:IsLocked="True">
                                        <Grid d:IsLocked="True">
                                            <StaticResource ResourceKey="PlugInSettings" />
                                        </Grid>
                                    </Viewbox>
                                </Button>
                                <ComboBox
                                    x:Name="SelectRendererPlugIn"
                                    Height="30"
                                    Margin="5"
                                    VerticalContentAlignment="Center"
                                    d:IsLocked="True"
                                    SelectionChanged="OnSelectionChanged_SelectRenderer" />
                            </DockPanel>
                            <TextBlock
                                x:Name="SelectedRendererDescription"
                                Margin="5"
                                d:IsLocked="True"
                                Text="Description of the renderer ..."
                                TextWrapping="Wrap" />
                        </DockPanel>
                    </GroupBox>
                    <GroupBox
                        Grid.Row="2"
                        d:IsLocked="True"
                        BorderBrush="{StaticResource Chem4WordBlue}"
                        BorderThickness="2"
                        Header="Searcher">
                        <DockPanel d:IsLocked="True">
                            <DockPanel d:IsLocked="True" Dock="Top">
                                <Button
                                    x:Name="SelectedSearcherSettings"
                                    Width="28"
                                    Height="28"
                                    d:IsLocked="True"
                                    Click="OnClick_SelectedSearcherSettings"
                                    DockPanel.Dock="Right"
                                    Style="{StaticResource Acme.Control.Button.DialogButton}">
                                    <Viewbox d:IsLocked="True">
                                        <Grid d:IsLocked="True">
                                            <StaticResource ResourceKey="PlugInSettings" />
                                        </Grid>
                                    </Viewbox>
                                </Button>
                                <ComboBox
                                    x:Name="SelectSearcherPlugIn"
                                    Height="30"
                                    Margin="5"
                                    VerticalContentAlignment="Center"
                                    d:IsLocked="True"
                                    SelectionChanged="OnSelectionChanged_SelectSearcher" />
                            </DockPanel>
                            <TextBlock
                                x:Name="SelectedSearcherDescription"
                                Margin="5"
                                d:IsLocked="True"
                                Text="Description of the searcher ..."
                                TextWrapping="Wrap" />
                        </DockPanel>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem
                Name="General"
                d:IsLocked="True"
                Header="General">
                <Grid Margin="5" d:IsLocked="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Separator
                        Grid.Row="1"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        d:IsLocked="True" />
                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="0"
                        Margin="5"
                        d:IsLocked="True"
                        Text="Default bond length" />
                    <Grid
                        Grid.Row="2"
                        Grid.Column="1"
                        d:IsLocked="True">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <ComboBox
                            x:Name="DefaultBondLength"
                            Grid.Row="0"
                            Grid.Column="0"
                            Width="50"
                            Height="30"
                            Margin="5"
                            HorizontalAlignment="Left"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            SelectedIndex="3"
                            SelectionChanged="OnSelectionChanged_BondLength"
                            ToolTip="Set Default Bond Length">
                            <ComboBoxItem d:IsLocked="True" Tag="5">5</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="10">10</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="15">15</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="20">20</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="25">25</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="30">30</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="35">35</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="40">40</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="45">45</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="50">50</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="55">55</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="60">60</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="65">65</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="70">70</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="75">75</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="80">80</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="85">85</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="90">90</ComboBoxItem>
                            <ComboBoxItem d:IsLocked="True" Tag="95">95</ComboBoxItem>
                        </ComboBox>
                        <TextBlock
                            Grid.Row="0"
                            Grid.Column="1"
                            Margin="5"
                            d:IsLocked="True"
                            Text="If the bond length of an imported structure is outside the range 5 to 95; It will always be changed to your chosen default bond length, even if the options below are not checked."
                            TextWrapping="Wrap" />
                    </Grid>
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="0"
                        Margin="5"
                        d:IsLocked="True"
                        Text="Remove explicit Hydrogen atoms during import"
                        TextWrapping="Wrap" />
                    <Grid
                        Grid.Row="0"
                        Grid.Column="1"
                        d:IsLocked="True">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <CheckBox
                            x:Name="RemoveExplicitOnImportFile"
                            Grid.Row="0"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_RemoveExplicitOnImportFile">
                            from file
                        </CheckBox>
                        <CheckBox
                            x:Name="RemoveExplicitOnImportSearch"
                            Grid.Row="1"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_RemoveExplicitOnImportSearch">
                            from search
                        </CheckBox>
                        <CheckBox
                            x:Name="RemoveExplicitOnImportLibrary"
                            Grid.Row="2"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_RemoveExplicitOnImportLibrary">
                            from library (also includes save to library)
                        </CheckBox>
                    </Grid>
                    <TextBlock
                        Grid.Row="3"
                        Grid.Column="0"
                        Margin="5"
                        d:IsLocked="True"
                        Text="Apply default bond length during import"
                        TextWrapping="Wrap" />
                    <Grid
                        Grid.Row="3"
                        Grid.Column="1"
                        d:IsLocked="True">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <CheckBox
                            x:Name="ApplyDefaultOnImportFile"
                            Grid.Row="0"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_ApplyDefaultOnImportFile">
                            from file
                        </CheckBox>
                        <CheckBox
                            x:Name="ApplyDefaultOnImportSearch"
                            Grid.Row="1"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_ApplyDefaultOnImportSearch">
                            from search
                        </CheckBox>
                        <CheckBox
                            x:Name="ApplyDefaultOnImportLibrary"
                            Grid.Row="2"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_ApplyDefaultOnImportLibrary">
                            from library
                        </CheckBox>
                    </Grid>
                    <Separator
                        Grid.Row="4"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        d:IsLocked="True" />
                    <TextBlock
                        Grid.Row="5"
                        Grid.Column="0"
                        Margin="5"
                        d:IsLocked="True"
                        Text="Default rendering options"
                        TextWrapping="Wrap" />
                    <Grid
                        Grid.Row="5"
                        Grid.Column="1"
                        d:IsLocked="True">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <CheckBox
                            x:Name="ShowAllCarbonAtoms"
                            Grid.Row="0"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_ApplyShowAllCarbonAtoms">
                            Show All Carbon Atoms
                        </CheckBox>
                        <Grid Grid.Row="1" d:IsLocked="True">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <TextBlock
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center"
                                d:IsLocked="True">
                                Implicit Hydrogen Mode
                            </TextBlock>
                            <ComboBox
                                x:Name="ImplicitHydrogenMode"
                                Grid.Column="1"
                                Width="175"
                                Height="30"
                                Margin="5"
                                VerticalContentAlignment="Center"
                                d:IsLocked="True"
                                SelectionChanged="OnSelectionChanged_ImplicitHydrogenMode" />
                        </Grid>
                        <CheckBox
                            x:Name="ShowAtomsInColour"
                            Grid.Row="2"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_ApplyShowAtomsInColour">
                            Show Atoms in Colour
                        </CheckBox>
                        <CheckBox
                            x:Name="ShowGroupingOfMolecules"
                            Grid.Row="3"
                            Grid.Column="0"
                            Margin="5"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_ShowGroupingOfMolecules">
                            Show Grouping of Molecules
                        </CheckBox>
                    </Grid>
                </Grid>
            </TabItem>
            <TabItem
                Name="Privacy"
                d:IsLocked="True"
                Header="Privacy">
                <Grid Margin="5" d:IsLocked="True">
                    <StackPanel d:IsLocked="True">
                        <CheckBox
                            x:Name="TelemetryEnabled"
                            Margin="10,10,0,0"
                            HorizontalAlignment="Left"
                            VerticalContentAlignment="Center"
                            d:IsLocked="True"
                            Click="OnClick_EnableTelemetry"
                            Content="Telemetry Enabled" />
                        <TextBlock
                            Margin="32,10,0,0"
                            d:IsLocked="True"
                            TextWrapping="Wrap">
                            <Run>When you check this box, you are helping to improve the quality, reliability, and performance of this software. Chem4Word automatically collects information from your computer, including error messages and hardware and software information. Any information that is sent to us is anonymous. This information isn't used in advertising or sales in any way.</Run>
                            <LineBreak />
                            <Run FontStyle="Italic">We do not collect any chemistry information.</Run>
                        </TextBlock>
                        <TextBlock
                            x:Name="BetaInformation"
                            Margin="32,10,0,0"
                            d:IsLocked="True"
                            FontWeight="SemiBold"
                            Text="NB: Telemetry is always on for Beta Releases."
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem
                Name="Libraries"
                d:IsLocked="True"
                Header="Libraries">
                <Grid d:IsLocked="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="7*" />
                        <ColumnDefinition Width="2*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Grid
                        Grid.Row="0"
                        Grid.Column="0"
                        d:IsLocked="True">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Margin="5"
                            VerticalAlignment="Center"
                            d:IsLocked="True">
                            Default Location:
                        </TextBlock>
                        <TextBox
                            Name="DefaultLocation"
                            Grid.Column="1"
                            Height="30"
                            Margin="5"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Stretch"
                            d:IsLocked="True"
                            IsReadOnly="True" />
                    </Grid>
                    <Button
                        Grid.Row="0"
                        Grid.Column="1"
                        Width="Auto"
                        Height="Auto"
                        Margin="5"
                        HorizontalContentAlignment="Left"
                        d:IsLocked="True"
                        Click="OnClick_SelectDefaultLibraryLocation"
                        Style="{StaticResource Acme.Control.Button.DialogButton}"
                        ToolTip="Change the default location where libraries are created">
                        <StackPanel
                            HorizontalAlignment="Left"
                            d:IsLocked="True"
                            Orientation="Horizontal">
                            <StaticResource ResourceKey="BrowseFolder" />
                            <TextBlock VerticalAlignment="Center" d:IsLocked="True">Select Folder</TextBlock>
                        </StackPanel>
                    </Button>
                    <ListView
                        Name="LibrariesList"
                        Grid.Row="1"
                        Grid.Column="0"
                        Margin="5"
                        d:IsLocked="True"
                        d:ItemsSource="{StaticResource SampleData}"
                        SelectionChanged="OnSelectionChanged_ListOfLibraries"
                        SelectionMode="Single">
                        <ListView.Resources>
                            <Style TargetType="{x:Type GridViewColumnHeader}">
                                <Setter Property="HorizontalContentAlignment" Value="Left" />
                            </Style>
                        </ListView.Resources>
                        <ListView.ItemContainerStyle>
                            <Style TargetType="{x:Type ListViewItem}">
                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                <Setter Property="ToolTip">
                                    <Setter.Value>
                                        <TextBlock Text="{Binding Connection}" />
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ListView.ItemContainerStyle>
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Width="32" Header="✱">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <Canvas
                                                Width="24"
                                                Height="24"
                                                d:IsLocked="True"
                                                ClipToBounds="True"
                                                Visibility="{Binding IsDefault, Converter={StaticResource BoolToVisConverter}}">
                                                <Path
                                                    Canvas.Left="2"
                                                    Canvas.Top="2"
                                                    Width="20"
                                                    Height="20"
                                                    d:IsLocked="True"
                                                    Fill="{StaticResource Chem4WordBlue}"
                                                    Stretch="Uniform"
                                                    Style="{StaticResource LibraryIsSelected}" />
                                            </Canvas>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <!--  This allows name to be edited  -->
                                <GridViewColumn Width="250" Header="Name">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBox
                                                Margin="0"
                                                HorizontalContentAlignment="Stretch"
                                                GotFocus="OnGotFocus_LibraryName"
                                                LostFocus="OnLostFocus_LibraryName"
                                                Text="{Binding Path=Name}" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn
                                    Width="80"
                                    DisplayMemberBinding="{Binding Count}"
                                    Header="Structures" />
                                <!-- Reserved for future use
                                <GridViewColumn Width="80" Header="Dictionary">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox IsChecked="{Binding Dictionary}" IsEnabled="False" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                -->
                                <GridViewColumn
                                    Width="60"
                                    DisplayMemberBinding="{Binding Locked}"
                                    Header="Locked" />
                                <GridViewColumn
                                    Width="350"
                                    DisplayMemberBinding="{Binding License}"
                                    Header="Licensed to" />
                            </GridView>
                        </ListView.View>
                    </ListView>
                    <StackPanel
                        Grid.Row="1"
                        Grid.Column="1"
                        d:IsLocked="True"
                        Orientation="Vertical">
                        <Button
                            Name="AddButton"
                            Width="Auto"
                            Height="Auto"
                            Margin="5"
                            HorizontalContentAlignment="Left"
                            d:IsLocked="True"
                            Click="OnClick_AddExistingLibrary"
                            Style="{StaticResource Acme.Control.Button.DialogButton}"
                            ToolTip="Add an existing library">
                            <StackPanel
                                HorizontalAlignment="Left"
                                d:IsLocked="True"
                                Orientation="Horizontal">
                                <Path
                                    Width="28"
                                    Height="28"
                                    Margin="5"
                                    VerticalAlignment="Center"
                                    d:IsLocked="True"
                                    Data="M 20 14 H 14 V 20 H 10 V 14 H 4 V 10 H 10 V 4 H 14 V 10 H 20 V 14 Z"
                                    Fill="{StaticResource Chem4WordBlue}"
                                    Stretch="Uniform" />
                                <TextBlock VerticalAlignment="Center" d:IsLocked="True">Add Library</TextBlock>
                            </StackPanel>
                        </Button>
                        <Button
                            x:Name="CreateNewLibrary"
                            Width="Auto"
                            Height="Auto"
                            Margin="5"
                            HorizontalContentAlignment="Left"
                            d:IsLocked="True"
                            Click="OnClick_CreateNewLibrary"
                            Style="{StaticResource Acme.Control.Button.DialogButton}"
                            ToolTip="Create a new empty library">
                            <StackPanel d:IsLocked="True" Orientation="Horizontal">
                                <Path
                                    Width="28"
                                    Height="28"
                                    Margin="5"
                                    VerticalAlignment="Center"
                                    d:IsLocked="True"
                                    Data="M 15.05 18.59 L 21.84 18.59 L 21.5 23.81 L 20.77 30.21 L 25.95 27.87 L 31.83 25.71 L 33.98 32.37 L 28.09 34.01 L 22.31 34.99 L 23.89 36.48 L 25.76 38.45 L 27.92 40.91 L 30.38 43.85 L 24.75 47.84 L 21.79 43.46 L 18.33 37.76 L 16.65 40.87 L 15.07 43.58 L 13.6 45.91 L 12.23 47.84 L 6.7 43.85 L 9.23 40.78 L 11.37 38.29 L 13.12 36.35 L 14.48 34.99 L 3 32.37 L 5.16 25.71 L 8.63 26.98 L 11.59 28.16 L 14.04 29.25 L 15.98 30.26 L 15.59 26.35 L 15.3 23.1 L 15.12 20.51 L 15.05 18.59 Z"
                                    Fill="{StaticResource Chem4WordBlue}"
                                    Stretch="Uniform" />
                                <TextBlock VerticalAlignment="Center" d:IsLocked="True">New Library</TextBlock>
                            </StackPanel>
                        </Button>
                        <Button
                            x:Name="DownloadLibrary"
                            Width="Auto"
                            Height="Auto"
                            Margin="5"
                            HorizontalContentAlignment="Left"
                            d:IsLocked="True"
                            Click="OnClick_DownloadLibrary"
                            Style="{StaticResource Acme.Control.Button.DialogButton}"
                            ToolTip="Download a library from www.chem4word.co.uk">
                            <StackPanel d:IsLocked="True" Orientation="Horizontal">
                                <Path
                                    Width="28"
                                    Height="28"
                                    Margin="5"
                                    VerticalAlignment="Center"
                                    d:IsLocked="True"
                                    Data="M 14 2 L 20 8 V 20 A 2 2 0 0 1 18 22 H 6 A 2 2 0 0 1 4 20 V 4 A 2 2 0 0 1 6 2 H 14 M 18 20 V 9 H 13 V 4 H 6 V 20 H 18 M 12 19 L 8 15 H 10.5 V 12 H 13.5 V 15 H 16 L 12 19 Z"
                                    Fill="{StaticResource Chem4WordBlue}"
                                    Stretch="Uniform" />
                                <TextBlock VerticalAlignment="Center" d:IsLocked="True">Download a Library</TextBlock>
                            </StackPanel>
                        </Button>
                        <Button
                            Name="RemoveLibrary"
                            Width="Auto"
                            Height="Auto"
                            Margin="5"
                            HorizontalContentAlignment="Left"
                            d:IsLocked="True"
                            Click="OnClick_RemoveLibrary"
                            Style="{StaticResource Acme.Control.Button.DialogButton}"
                            ToolTip="Remove the selected library">
                            <StackPanel d:IsLocked="True" Orientation="Horizontal">
                                <Path
                                    Name="RemoveLibraryIcon"
                                    Width="28"
                                    Height="28"
                                    Margin="5"
                                    VerticalAlignment="Center"
                                    d:IsLocked="True"
                                    Data="M 9 3 V 4 H 4 V 6 H 5 V 19 A 2 2 0 0 0 7 21 H 17 A 2 2 0 0 0 19 19 V 6 H 20 V 4 H 15 V 3 H 9 M 7 6 H 17 V 19 H 7 V 6 M 9 8 V 17 H 11 V 8 H 9 M 13 8 V 17 H 15 V 8 H 13 Z"
                                    Fill="{StaticResource Chem4WordBlue}"
                                    Stretch="Uniform" />
                                <TextBlock VerticalAlignment="Center" d:IsLocked="True">Remove Library</TextBlock>
                            </StackPanel>
                        </Button>
                        <Button
                            Name="EditLibrary"
                            Width="Auto"
                            Height="Auto"
                            Margin="5"
                            HorizontalContentAlignment="Left"
                            d:IsLocked="True"
                            Click="OnClick_EditLibrary"
                            Style="{StaticResource Acme.Control.Button.DialogButton}"
                            ToolTip="Edit the selected library">
                            <StackPanel d:IsLocked="True" Orientation="Horizontal">
                                <Path
                                    Name="EditLibraryIcon"
                                    Width="28"
                                    Height="28"
                                    Margin="5"
                                    VerticalAlignment="Center"
                                    d:IsLocked="True"
                                    Data="M 16.84 2.73 C 16.45 2.73 16.07 2.88 15.77 3.17 L 13.65 5.29 L 18.95 10.6 L 21.07 8.5 C 21.67 7.89 21.67 6.94 21.07 6.36 L 17.9 3.17 C 17.6 2.88 17.22 2.73 16.84 2.73 M 12.94 6 L 4.84 14.11 L 7.4 14.39 L 7.58 16.68 L 9.86 16.85 L 10.15 19.41 L 18.25 11.3 M 4.25 15.04 L 2.5 21.73 L 9.2 19.94 L 8.96 17.78 L 6.65 17.61 L 6.47 15.29"
                                    Fill="{StaticResource Chem4WordBlue}"
                                    Stretch="Uniform" />
                                <TextBlock VerticalAlignment="Center" d:IsLocked="True">Edit Library</TextBlock>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem
                Name="Maintenance"
                d:IsLocked="True"
                Header="Maintenance">
                <TabItem.Resources>
                    <Style TargetType="Button">
                        <Setter Property="Height" Value="45" />
                        <Setter Property="Width" Value="120" />
                    </Style>
                </TabItem.Resources>
                <Grid Margin="5" d:IsLocked="True">
                    <StackPanel d:IsLocked="True">
                        <Label d:IsLocked="True" Content="You should back up the contents of these folders regularly." />
                        <GroupBox d:IsLocked="True" Header="User Settings and Backups">
                            <DockPanel d:IsLocked="True">
                                <Button
                                    Width="Auto"
                                    Height="Auto"
                                    VerticalAlignment="Center"
                                    HorizontalContentAlignment="Left"
                                    d:IsLocked="True"
                                    Click="OnClick_ExploreSettingsFolder"
                                    DockPanel.Dock="Left"
                                    Style="{StaticResource Acme.Control.Button.DialogButton}">
                                    <StackPanel d:IsLocked="True" Orientation="Horizontal">
                                        <StackPanel d:IsLocked="True" Orientation="Horizontal">
                                            <StaticResource ResourceKey="BrowseFolder" />
                                            <Label
                                                VerticalContentAlignment="Center"
                                                d:IsLocked="True"
                                                Content="Browse" />
                                        </StackPanel>
                                    </StackPanel>
                                </Button>
                                <TextBlock
                                    Margin="5"
                                    VerticalAlignment="Center"
                                    d:IsLocked="True"
                                    Text="This folder is where Chem4Word stores your personal settings and backups of any orphaned structures."
                                    TextWrapping="Wrap" />
                            </DockPanel>
                        </GroupBox>
                        <GroupBox d:IsLocked="True" Header="Common Settings">
                            <DockPanel d:IsLocked="True">
                                <Button
                                    Width="Auto"
                                    Height="Auto"
                                    VerticalAlignment="Center"
                                    HorizontalContentAlignment="Left"
                                    d:IsLocked="True"
                                    Click="OnClick_ExploreCommonFolder"
                                    DockPanel.Dock="Left"
                                    Style="{StaticResource Acme.Control.Button.DialogButton}">
                                    <StackPanel d:IsLocked="True" Orientation="Horizontal">
                                        <StaticResource ResourceKey="BrowseFolder" />
                                        <Label
                                            VerticalContentAlignment="Center"
                                            d:IsLocked="True"
                                            Content="Browse" />
                                    </StackPanel>
                                </Button>
                                <TextBlock
                                    Margin="5"
                                    VerticalAlignment="Center"
                                    d:IsLocked="True"
                                    Text="This folder is where Chem4Word stores common settings for all users."
                                    TextWrapping="Wrap" />
                            </DockPanel>
                        </GroupBox>
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
        <Grid
            Grid.Row="1"
            Margin="10,10,10,0"
            HorizontalAlignment="Right"
            d:IsLocked="True">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Button
                x:Name="Defaults"
                Width="120"
                Height="32"
                Margin="0,0,40,0"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                HorizontalContentAlignment="Center"
                d:IsLocked="True"
                Click="OnClick_DefaultsButton"
                Content="System Defaults"
                Style="{StaticResource Acme.Control.Button.DialogButton}" />
            <Button
                x:Name="Ok"
                Grid.Column="1"
                Height="32"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                HorizontalContentAlignment="Center"
                d:IsLocked="True"
                Click="OnClick_OkButton"
                Content="OK"
                Style="{StaticResource Acme.Control.Button.DialogButton}" />
            <Button
                x:Name="Cancel"
                Grid.Column="2"
                Height="32"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                HorizontalContentAlignment="Center"
                d:IsLocked="True"
                Click="OnClick_CancelButton"
                Content="Cancel"
                Style="{StaticResource Acme.Control.Button.DialogButton}" />
        </Grid>
    </Grid>
</UserControl>